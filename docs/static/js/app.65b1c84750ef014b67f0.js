webpackJsonp([2],{"+Y7R":function(t,s){},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("7+uW"),i={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"nav"}},[s("router-link",{attrs:{to:"/"}},[this._v("Home")]),this._v(" |\n    "),s("router-link",{attrs:{to:"/about"}},[this._v("About")])],1),this._v(" "),s("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")(null,i,!1,function(t){a("ySBI")},null,null).exports,o=a("/ocq"),c=a("kxiW"),r=a.n(c),l={name:"PrivateChat",data:function(){return{message:null,messages:[],authUser:{}}},methods:{scrollToBottom:function(){var t=document.querySelector(".msg_history");t.scrollTop=t.scrollHeight},saveMessage:function(){var t=this;db.collection("chat").add({message:this.message,author:this.authUser.displayName,createdAt:new Date}).then(function(){t.scrollToBottom()}),this.message=null},fetchMessages:function(){var t=this;db.collection("chat").orderBy("createdAt").onSnapshot(function(s){var a=[];s.forEach(function(t){a.push(t.data())}),t.messages=a,setTimeout(function(){t.scrollToBottom()},1e3)})}},created:function(){var t=this;r.a.auth().onAuthStateChanged(function(s){t.authUser=s||{}}),this.fetchMessages()},beforeRouteEnter:function(t,s,a){a(function(t){r.a.auth().onAuthStateChanged(function(t){t?a():a({path:"/login"})})})}},h={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("h3",{staticClass:"text-center"},[t._v("Messaging")]),t._v(" "),a("h3",{staticClass:"text-center"},[t._v(t._s(t.authUser.displayName))]),t._v(" "),a("div",{staticClass:"messaging"},[a("div",{staticClass:"inbox_msg"},[t._m(0),t._v(" "),a("div",{staticClass:"mesgs"},[a("div",{staticClass:"msg_history"},t._l(t.messages,function(s,e){return a("div",{key:e},[a("div",{class:[s.author===t.authUser.displayName?"sent_msg":"received_msg"]},[a("div",{staticClass:"received_withd_msg"},[a("p",[t._v(t._s(s.message))]),t._v(" "),a("span",{staticClass:"time_date"},[t._v(t._s(s.author))])])])])}),0),t._v(" "),a("div",{staticClass:"type_msg"},[a("div",{staticClass:"input_msg_write"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"write_msg",attrs:{type:"text",placeholder:"Type a message"},domProps:{value:t.message},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.saveMessage(s)},input:function(s){s.target.composing||(t.message=s.target.value)}}}),t._v(" "),t._m(1)])])])]),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"inbox_people"},[a("div",{staticClass:"headind_srch"},[a("div",{staticClass:"recent_heading"},[a("h4",[t._v("Recent")])]),t._v(" "),a("div",{staticClass:"srch_bar"},[a("div",{staticClass:"stylish-input-group"},[a("input",{staticClass:"search-bar",attrs:{type:"text",placeholder:"Search"}}),t._v(" "),a("span",{staticClass:"input-group-addon"},[a("button",{attrs:{type:"button"}},[a("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])])])])]),t._v(" "),a("div",{staticClass:"inbox_chat"},[a("div",{staticClass:"chat_list active_chat"},[a("div",{staticClass:"chat_people"},[a("div",{staticClass:"chat_img"},[a("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),t._v(" "),a("div",{staticClass:"chat_ib"},[a("h5",[t._v("Sunil Rajput "),a("span",{staticClass:"chat_date"},[t._v("Dec 25")])]),t._v(" "),a("p",[t._v("Test, which is a new approach to have all solutions \n                            astrology under one roof.")])])])]),t._v(" "),a("div",{staticClass:"chat_list"},[a("div",{staticClass:"chat_people"},[a("div",{staticClass:"chat_img"},[a("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),t._v(" "),a("div",{staticClass:"chat_ib"},[a("h5",[t._v("Sunil Rajput "),a("span",{staticClass:"chat_date"},[t._v("Dec 25")])]),t._v(" "),a("p",[t._v("Test, which is a new approach to have all solutions \n                            astrology under one roof.")])])])]),t._v(" "),a("div",{staticClass:"chat_list"},[a("div",{staticClass:"chat_people"},[a("div",{staticClass:"chat_img"},[a("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),t._v(" "),a("div",{staticClass:"chat_ib"},[a("h5",[t._v("Sunil Rajput "),a("span",{staticClass:"chat_date"},[t._v("Dec 25")])]),t._v(" "),a("p",[t._v("Test, which is a new approach to have all solutions \n                            astrology under one roof.")])])])]),t._v(" "),a("div",{staticClass:"chat_list"},[a("div",{staticClass:"chat_people"},[a("div",{staticClass:"chat_img"},[a("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),t._v(" "),a("div",{staticClass:"chat_ib"},[a("h5",[t._v("Sunil Rajput "),a("span",{staticClass:"chat_date"},[t._v("Dec 25")])]),t._v(" "),a("p",[t._v("Test, which is a new approach to have all solutions \n                            astrology under one roof.")])])])]),t._v(" "),a("div",{staticClass:"chat_list"},[a("div",{staticClass:"chat_people"},[a("div",{staticClass:"chat_img"},[a("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),t._v(" "),a("div",{staticClass:"chat_ib"},[a("h5",[t._v("Sunil Rajput "),a("span",{staticClass:"chat_date"},[t._v("Dec 25")])]),t._v(" "),a("p",[t._v("Test, which is a new approach to have all solutions \n                            astrology under one roof.")])])])]),t._v(" "),a("div",{staticClass:"chat_list"},[a("div",{staticClass:"chat_people"},[a("div",{staticClass:"chat_img"},[a("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),t._v(" "),a("div",{staticClass:"chat_ib"},[a("h5",[t._v("Sunil Rajput "),a("span",{staticClass:"chat_date"},[t._v("Dec 25")])]),t._v(" "),a("p",[t._v("Test, which is a new approach to have all solutions \n                            astrology under one roof.")])])])]),t._v(" "),a("div",{staticClass:"chat_list"},[a("div",{staticClass:"chat_people"},[a("div",{staticClass:"chat_img"},[a("img",{attrs:{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"}})]),t._v(" "),a("div",{staticClass:"chat_ib"},[a("h5",[t._v("Sunil Rajput "),a("span",{staticClass:"chat_date"},[t._v("Dec 25")])]),t._v(" "),a("p",[t._v("Test, which is a new approach to have all solutions \n                            astrology under one roof.")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"msg_send_btn",attrs:{type:"button"}},[s("i",{staticClass:"fa fa-paper-plane-o",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"text-center top_spac"},[this._v(" Design by "),s("a",{attrs:{target:"_blank",href:"#"}},[this._v("Sunil Rajput")])])}]};var u=a("VU/8")(l,h,!1,function(t){a("+Y7R")},"data-v-5f24898b",null).exports,v={methods:{login:function(){var t=this,s=new r.a.auth.GoogleAuthProvider;s.addScope("https://www.googleapis.com/auth/contacts.readonly"),r.a.auth().signInWithPopup(s).then(function(s){s.credential.accessToken,s.user;t.$router.push("/")}).catch(function(t){t.code,t.message,t.email,t.credential})}}},p={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("h3",[this._v("Please Login with your google account to continue")]),this._v(" "),s("button",{on:{click:this.login}},[this._v("Login with google")])])},staticRenderFns:[]},_=a("VU/8")(v,p,!1,null,null,null).exports;e.a.use(o.a);var d=new o.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",name:"home",component:u},{path:"/login",name:"login",component:_},{path:"/about",name:"about",component:function(){return a.e(0).then(a.bind(null,"vu9I"))}}]});a("881v");r.a.initializeApp({apiKey:"AIzaSyBVIV-4BU2JC7kmvu0dle3U7HZ-kuqgspY",authDomain:"vue-firestore-chat-db81f.firebaseapp.com",databaseURL:"https://vue-firestore-chat-db81f.firebaseio.com",projectId:"vue-firestore-chat-db81f",storageBucket:"",messagingSenderId:"470747646906"});var g=r.a.firestore();window.db=g,e.a.config.productionTip=!1,new e.a({el:"#app",router:d,components:{App:n},template:"<App/>"})},ySBI:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.65b1c84750ef014b67f0.js.map